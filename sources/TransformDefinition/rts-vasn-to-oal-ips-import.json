{
  "$type": "Bespoke.Sph.Domain.TransformDefinition, domain.sph",
  "MapCollection": {
    "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.Map, domain.sph]], domain.sph",
    "$values": [
      {
        "$type": "Bespoke.Sph.Domain.DirectMap, domain.sph",
        "Source": "ConsignmentNo",
        "TypeName": "",
        "Destination": "item_id",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "26a24c8d-afa3-430b-8477-82219fcf2884"
      },
      {
        "$type": "Bespoke.Sph.Domain.DirectMap, domain.sph",
        "Source": "CourierId",
        "TypeName": "",
        "Destination": "user_fid",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "95582c0a-31cb-49b8-9d31-5dec9f56322f"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "a76b262c-2b37-430d-ec5e-c4aea6c92bca",
        "Destination": "id",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "446c75f3-9b58-4ffc-b2c4-333143505439"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "11ec80f0-4080-457b-9f68-aeec9c2e9293",
        "Destination": "postal_status_fcd",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "a3d33481-2b31-4d19-ab7c-b65fe3710a60"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "76ccf272-cf96-49e4-d921-06f189bf6988",
        "Destination": "office_cd",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "fccdca17-5808-4e3b-be65-c1424650ad8b"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "d8f24a2e-9b8c-4060-e0c5-7edf6167b849",
        "Destination": "non_delivery_reason",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "4229107f-4073-4a51-ba3d-134d213a4463"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "077757b3-2bfc-4215-833a-4a495b7cc044",
        "Destination": "non_delivery_measure",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "c29624bb-43a7-440c-f533-f7de7e819a99"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "7c256088-e88e-4713-8f4c-2e7b16cbe977",
        "Destination": "status",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "bb262745-959e-4f5c-df07-1ec0509b17aa"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "c6adf2d3-97d1-45bb-e6e5-e912962e2247",
        "Destination": "data_code_name",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "a94caf49-d743-435b-e2dd-7f2cdf03ddf3"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "f1ce89a5-c6a3-4bb8-ac08-b1a4f70c2a7e",
        "Destination": "event_date_local_date_field",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "dded9e77-e241-4082-ef18-46a8913ac850"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "1d968459-2048-4115-f92d-d5dcf58d0523",
        "Destination": "event_date_g_m_t_date_field",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "25d80379-629e-494a-cd16-9b51c8fff127"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "fdf450e5-70b9-48fb-a621-07e5097c6592",
        "Destination": "dt_created_oal_date_field",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "3bb986c2-d3a9-47d1-97b0-730871f5e58b"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "52806910-9150-43ba-8c2b-f22ef42c9f3b",
        "Destination": "class_cd",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "1b0d5dfb-3522-478b-d0f8-f399aecd9456"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "eb7db4ba-fde0-433e-e031-5374fa39d2f8",
        "Destination": "version",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "e3f70eb5-bec9-40ac-fe21-f6fd82099cd4"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "8f2afe55-8d11-4b47-af99-a19605512bbb",
        "Destination": "tn_cd",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "340ae3c9-438e-460c-fb71-8bbaecd66739"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "1df59779-fb2d-4f06-954f-f2807785c379",
        "Destination": "condition_cd",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "96654b11-5914-46e9-9220-a86559282270"
      }
    ]
  },
  "FunctoidCollection": {
    "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.Functoid, domain.sph]], domain.sph",
    "$values": [
      {
        "$type": "Bespoke.Sph.Domain.ScriptFunctoid, domain.sph",
        "Expression": "var guid = \"en\"+ Guid.NewGuid().ToString(\"N\").Substring(0,13);\r\nreturn guid;",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": "GetId",
        "OutputTypeName": "System.String, mscorlib",
        "Label": null,
        "Comment": null,
        "X": 480.0,
        "Y": 48.0,
        "WebId": "a76b262c-2b37-430d-ec5e-c4aea6c92bca"
      },
      {
        "$type": "Bespoke.Sph.Domain.ConstantFunctoid, domain.sph",
        "TypeName": "System.String, mscorlib",
        "Value": "MINL",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": null,
        "OutputTypeName": null,
        "Label": null,
        "Comment": null,
        "X": 711.0,
        "Y": 132.0,
        "WebId": "11ec80f0-4080-457b-9f68-aeec9c2e9293"
      },
      {
        "$type": "Bespoke.Sph.Domain.ScriptFunctoid, domain.sph",
        "Expression": "return string.Format(\"MY{0}\", item.LocationId);",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": "GetOfficeCode",
        "OutputTypeName": "System.String, mscorlib",
        "Label": null,
        "Comment": null,
        "X": 650.0,
        "Y": 247.0,
        "WebId": "76ccf272-cf96-49e4-d921-06f189bf6988"
      },
      {
        "$type": "Bespoke.Sph.Domain.ConstantFunctoid, domain.sph",
        "TypeName": "System.String, mscorlib",
        "Value": "16",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": null,
        "OutputTypeName": null,
        "Label": null,
        "Comment": null,
        "X": 685.0,
        "Y": 305.0,
        "WebId": "d8f24a2e-9b8c-4060-e0c5-7edf6167b849"
      },
      {
        "$type": "Bespoke.Sph.Domain.ConstantFunctoid, domain.sph",
        "TypeName": "System.String, mscorlib",
        "Value": "A",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": null,
        "OutputTypeName": null,
        "Label": null,
        "Comment": null,
        "X": 605.0,
        "Y": 380.0,
        "WebId": "077757b3-2bfc-4215-833a-4a495b7cc044"
      },
      {
        "$type": "Bespoke.Sph.Domain.ConstantFunctoid, domain.sph",
        "TypeName": "System.String, mscorlib",
        "Value": "1",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": null,
        "OutputTypeName": null,
        "Label": null,
        "Comment": null,
        "X": 707.0,
        "Y": 395.0,
        "WebId": "7c256088-e88e-4713-8f4c-2e7b16cbe977"
      },
      {
        "$type": "Bespoke.Sph.Domain.ConstantFunctoid, domain.sph",
        "TypeName": "System.String, mscorlib",
        "Value": "vasn",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": null,
        "OutputTypeName": null,
        "Label": null,
        "Comment": null,
        "X": 446.0,
        "Y": 412.0,
        "WebId": "c6adf2d3-97d1-45bb-e6e5-e912962e2247"
      },
      {
        "$type": "Bespoke.Sph.Domain.ScriptFunctoid, domain.sph",
        "Expression": "return new DateTime(item.Date.Year,item.Date.Month, item.Date.Day, item.Time.Hour, item.Time.Minute, item.Time.Second);",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": "GetLocalDateTime",
        "OutputTypeName": "System.DateTime, mscorlib",
        "Label": null,
        "Comment": null,
        "X": 515.0,
        "Y": 477.0,
        "WebId": "f1ce89a5-c6a3-4bb8-ac08-b1a4f70c2a7e"
      },
      {
        "$type": "Bespoke.Sph.Domain.ScriptFunctoid, domain.sph",
        "Expression": "return new DateTime(item.Date.Year,item.Date.Month, item.Date.Day, item.Time.Hour, item.Time.Minute, item.Time.Second).AddHours(-8);",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": "GetGmtDateTime",
        "OutputTypeName": "System.DateTime, mscorlib",
        "Label": null,
        "Comment": null,
        "X": 579.0,
        "Y": 447.0,
        "WebId": "1d968459-2048-4115-f92d-d5dcf58d0523"
      },
      {
        "$type": "Bespoke.Sph.Domain.NowFunctoid, domain.sph",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": null,
        "OutputTypeName": null,
        "Label": null,
        "Comment": null,
        "X": 644.0,
        "Y": 526.0,
        "WebId": "fdf450e5-70b9-48fb-a621-07e5097c6592"
      },
      {
        "$type": "Bespoke.Sph.Domain.ScriptFunctoid, domain.sph",
        "Expression": "string classId = null;\nvar isConsole = item.ConsignmentNo.StartsWith(\"CG\") && item.ConsignmentNo.EndsWith(\"MY\");\nif (!isConsole)\n{\n    var firstLetter = item.ConsignmentNo.Substring(0,1);\n    switch (firstLetter)\n    {\n        case \"E\": classId = \"E\"; break;\n        case \"C\": classId = \"C\"; break;\n        case \"L\": classId = \"U\"; break;\n    }\n}\n\nreturn classId;",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": "GetClassCode",
        "OutputTypeName": "System.String, mscorlib",
        "Label": null,
        "Comment": null,
        "X": 595.0,
        "Y": 105.0,
        "WebId": "52806910-9150-43ba-8c2b-f22ef42c9f3b"
      },
      {
        "$type": "Bespoke.Sph.Domain.ConstantFunctoid, domain.sph",
        "TypeName": "System.Int32, mscorlib",
        "Value": "0",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": null,
        "OutputTypeName": null,
        "Label": null,
        "Comment": null,
        "X": 684.0,
        "Y": 569.0,
        "WebId": "eb7db4ba-fde0-433e-e031-5374fa39d2f8"
      },
      {
        "$type": "Bespoke.Sph.Domain.ScriptFunctoid, domain.sph",
        "Expression": "return \"TN---\";",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": "GetTnCode",
        "OutputTypeName": "System.String, mscorlib",
        "Label": null,
        "Comment": null,
        "X": 647.0,
        "Y": 168.0,
        "WebId": "8f2afe55-8d11-4b47-af99-a19605512bbb"
      },
      {
        "$type": "Bespoke.Sph.Domain.ConstantFunctoid, domain.sph",
        "TypeName": "System.String, mscorlib",
        "Value": "30",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": null,
        "OutputTypeName": null,
        "Label": null,
        "Comment": null,
        "X": 717.0,
        "Y": 264.0,
        "WebId": "1df59779-fb2d-4f06-954f-f2807785c379"
      }
    ]
  },
  "InputCollection": {
    "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.MethodArg, domain.sph]], domain.sph",
    "$values": []
  },
  "ReferencedAssemblyCollection": {
    "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.ReferencedAssembly, domain.sph]], domain.sph",
    "$values": [
      {
        "$type": "Bespoke.Sph.Domain.ReferencedAssembly, domain.sph",
        "Name": "Polly",
        "FullName": "Polly, Version=4.2.4.0, Culture=neutral, PublicKeyToken=null",
        "Version": "4.2.4.0",
        "Location": "D:\\project\\work\\entt.rts\\web\\bin\\Polly.dll",
        "IsGac": false,
        "IsStrongName": false,
        "RuntimeVersion": "v4.0.30319",
        "WebId": null
      }
    ]
  },
  "Name": "RtsVasnToOal_ips_import",
  "Description": "#5069",
  "InputTypeName": "Bespoke.PosEntt.Vasns.Domain.Vasn, PosEntt.Vasn",
  "OutputTypeName": "Bespoke.PosEntt.Adapters.Oal.dbo_ips_import, PosEntt.Oal",
  "IsPublished": true,
  "CreatedBy": "admin",
  "Id": "rts-vasn-to-oal-ips-import",
  "CreatedDate": "2016-10-21T10:39:59.5042314+08:00",
  "ChangedBy": "admin",
  "ChangedDate": "2017-09-07T11:49:06.1718047+08:00",
  "WebId": "80b2c8df-4863-4eff-af5a-567d41fb9b67"
}