{
  "$type": "Bespoke.Sph.Domain.TransformDefinition, domain.sph",
  "MapCollection": {
    "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.Map, domain.sph]], domain.sph",
    "$values": [
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "dbb16d15-60fb-4f76-8aed-d5c632597076",
        "Destination": "version",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "c0821f77-f2ca-4e25-b435-7c5078f98076"
      },
      {
        "$type": "Bespoke.Sph.Domain.DirectMap, domain.sph",
        "Source": "ConsignmentNo",
        "TypeName": "",
        "Destination": "item_id",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "a2fbdcc4-498a-4a06-dd31-ad9d7f5167f1"
      },
      {
        "$type": "Bespoke.Sph.Domain.DirectMap, domain.sph",
        "Source": "CourierId",
        "TypeName": "",
        "Destination": "user_fid",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "d4c42533-7078-493a-fc31-7ccd65c0a46a"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "7fb880cb-182b-4b70-c096-8fc8e207d66d",
        "Destination": "event_date_local_date_field",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "671a0b09-a313-4320-abb0-44531c329d97"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "1c2c1a28-985f-4d68-ca15-578db596c694",
        "Destination": "event_date_g_m_t_date_field",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "c6b67493-2647-4791-c229-1778c5209055"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "84d21ace-0d13-4a01-c68c-96ef3d63357d",
        "Destination": "status",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "394a9913-61c7-4f36-cc2c-64eeacde6580"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "eb21bc67-6b56-4a7b-c0af-8d34dd11d4ca",
        "Destination": "data_code_name",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "951701eb-dcae-49a1-8dea-cbb3bbbc70c5"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "f015729a-8fb2-4ab6-fbd9-2a228be4e1f5",
        "Destination": "id",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "4364f5db-f93b-42d9-c173-bc71a52b11a2"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "df49174c-994a-4895-d11b-3a3effa2191d",
        "Destination": "non_delivery_reason",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "6edbe2f7-b69a-4b42-e1ac-0910b26acc65"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "5abeb8a6-95a7-4009-f2e8-824eea7d3dac",
        "Destination": "non_delivery_measure",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "282e6c1e-d67c-4ddd-9544-9cca8993fb73"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "ee9039d1-8f77-4d58-f17d-09efa4a72ce9",
        "Destination": "signatory_nm",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "b4156277-c347-4e42-d90c-1d34cb46936f"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "b9562fc2-3352-48be-a823-03dc6704de20",
        "Destination": "dt_created_oal_date_field",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "491c6f2c-83ca-43df-b2b8-d41c0f0c484e"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "999daddf-915c-4aa4-d280-c1b7eea67155",
        "Destination": "class_cd",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "48815424-bd42-471f-e5ea-85f35051a7b8"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "683c4cc8-b2d9-406d-b249-69ca3ccdb831",
        "Destination": "content",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "2d940c24-26e7-4012-858c-0c5a8454887d"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "bfa24e88-b3d8-44c4-ce6b-565277604f42",
        "Destination": "orig_country_cd",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "fd637040-b726-437a-afcb-db79b852096a"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "4df5018a-8413-48df-cfec-f191529d5a50",
        "Destination": "tn_cd",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "b47beb89-1858-46fe-ce0f-f7aab4554c2a"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "713b5882-6d65-4883-d2b3-00bc3c70957c",
        "Destination": "postal_status_fcd",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "b2738913-8c73-45ab-c27b-60d63361c359"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "6a01bab2-4d80-45b8-c209-a9579f35dcdb",
        "Destination": "item_weight_double",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "a518d28f-4b9c-415a-9458-4a6ccbbb5eb5"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "0e592ccb-0f6d-405f-ba83-966969ba1d95",
        "Destination": "condition_cd",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "f7ce5376-9a74-4aa4-f2ea-db21b749ba36"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "37f20429-d656-44ed-f1eb-da4cbd8ef08c",
        "Destination": "office_cd",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "7ba1be19-58ff-4a7b-80ef-c3be955e9612"
      },
      {
        "$type": "Bespoke.Sph.Domain.FunctoidMap, domain.sph",
        "__uuid": "",
        "Functoid": "99867c2e-d6ea-4e00-b6c1-e3fbd5a36a16",
        "Destination": "dest_country_cd",
        "SourceTypeName": "",
        "DestinationTypeName": "",
        "WebId": "4b2e1f5d-1319-447d-cf1b-c542b1ebf6d3"
      }
    ]
  },
  "FunctoidCollection": {
    "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.Functoid, domain.sph]], domain.sph",
    "$values": [
      {
        "$type": "Bespoke.Sph.Domain.ConstantFunctoid, domain.sph",
        "TypeName": "System.Int32, mscorlib",
        "Value": "0",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": null,
        "OutputTypeName": null,
        "Label": null,
        "Comment": null,
        "X": 469.0,
        "Y": 588.0,
        "WebId": "dbb16d15-60fb-4f76-8aed-d5c632597076"
      },
      {
        "$type": "Bespoke.Sph.Domain.ScriptFunctoid, domain.sph",
        "Expression": "return new DateTime(item.Date.Year,item.Date.Month, item.Date.Day, item.Time.Hour, item.Time.Minute, item.Time.Second);",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": "GetDateTime",
        "OutputTypeName": "System.DateTime, mscorlib",
        "Label": null,
        "Comment": null,
        "X": 378.0,
        "Y": 452.0,
        "WebId": "7fb880cb-182b-4b70-c096-8fc8e207d66d"
      },
      {
        "$type": "Bespoke.Sph.Domain.ScriptFunctoid, domain.sph",
        "Expression": "var date = new DateTime(item.Date.Year,item.Date.Month, item.Date.Day, item.Time.Hour, item.Time.Minute, item.Time.Second);\nreturn date.AddHours(-8);",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": "GetDateTimeGmt",
        "OutputTypeName": "System.DateTime, mscorlib",
        "Label": null,
        "Comment": null,
        "X": 402.0,
        "Y": 404.0,
        "WebId": "1c2c1a28-985f-4d68-ca15-578db596c694"
      },
      {
        "$type": "Bespoke.Sph.Domain.ConstantFunctoid, domain.sph",
        "TypeName": "System.String, mscorlib",
        "Value": "1",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": null,
        "OutputTypeName": null,
        "Label": null,
        "Comment": null,
        "X": 514.0,
        "Y": 354.0,
        "WebId": "84d21ace-0d13-4a01-c68c-96ef3d63357d"
      },
      {
        "$type": "Bespoke.Sph.Domain.ConstantFunctoid, domain.sph",
        "TypeName": "System.String, mscorlib",
        "Value": "deli",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": null,
        "OutputTypeName": null,
        "Label": null,
        "Comment": null,
        "X": 532.0,
        "Y": 394.0,
        "WebId": "eb21bc67-6b56-4a7b-c0af-8d34dd11d4ca"
      },
      {
        "$type": "Bespoke.Sph.Domain.ScriptFunctoid, domain.sph",
        "Expression": "var guid = \"en\"+ Guid.NewGuid().ToString(\"N\").Substring(0,13);\r\nreturn guid;",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": "CreateId",
        "OutputTypeName": "System.String, mscorlib",
        "Label": null,
        "Comment": null,
        "X": 529.0,
        "Y": 51.0,
        "WebId": "f015729a-8fb2-4ab6-fbd9-2a228be4e1f5"
      },
      {
        "$type": "Bespoke.Sph.Domain.ScriptFunctoid, domain.sph",
        "Expression": "string display = null;\r\nswitch (item.ReasonCode)\r\n{\r\n    case \"02\" : display = \"12\"; break;\r\n    case \"03\" : display = \"10\"; break;\r\n    case \"04\" : if (item.DamageCode == \"01\")  display = null; else display = \"18\";  break;\r\n    case \"05\" : display = \"13\"; break;\r\n    case \"06\" : display = \"14\"; break;\r\n    case \"07\" : display = \"16\"; break;\r\n    case \"08\" : display = \"13\"; break;\r\n    case \"09\" : display = \"12\"; break;\r\n}\r\nreturn display;",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": "GetNonDeliveryReason",
        "OutputTypeName": "System.String, mscorlib",
        "Label": null,
        "Comment": null,
        "X": 476.0,
        "Y": 272.0,
        "WebId": "df49174c-994a-4895-d11b-3a3effa2191d"
      },
      {
        "$type": "Bespoke.Sph.Domain.ScriptFunctoid, domain.sph",
        "Expression": "string display = null;\r\nswitch (item.ReasonCode)\r\n{\r\n    case \"02\" : display = \"C\"; break;\r\n    case \"03\" : display = \"M\"; break;\r\n    case \"04\" : if (item.DamageCode == \"01\")  display = null; else display = \"C\";  break;\r\n    case \"05\" : display = \"M\"; break;\r\n    case \"06\" : display = \"L\"; break;\r\n    case \"07\" : display = \"B\"; break;\r\n    case \"08\" : display = \"E\"; break;\r\n    case \"09\" : display = \"C\"; break;\r\n}\r\nreturn display;",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": "GetNonDeliveryMeasure",
        "OutputTypeName": "System.String, mscorlib",
        "Label": null,
        "Comment": null,
        "X": 565.0,
        "Y": 300.0,
        "WebId": "5abeb8a6-95a7-4009-f2e8-824eea7d3dac"
      },
      {
        "$type": "Bespoke.Sph.Domain.ScriptFunctoid, domain.sph",
        "Expression": "string signatoryName = null;\r\nvar signatories = new string[] {\"01\", \"10\", \"11\"};\r\nif (signatories.Contains(item.ReasonCode)) signatoryName = item.RecipientName;\r\nreturn signatoryName;",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": "GetSignatories",
        "OutputTypeName": "System.String, mscorlib",
        "Label": null,
        "Comment": null,
        "X": 659.0,
        "Y": 347.0,
        "WebId": "ee9039d1-8f77-4d58-f17d-09efa4a72ce9"
      },
      {
        "$type": "Bespoke.Sph.Domain.ScriptFunctoid, domain.sph",
        "Expression": "return DateTime.Now;",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": "GetDefaultDateTime",
        "OutputTypeName": "System.DateTime, mscorlib",
        "Label": null,
        "Comment": null,
        "X": 536.0,
        "Y": 515.0,
        "WebId": "b9562fc2-3352-48be-a823-03dc6704de20"
      },
      {
        "$type": "Bespoke.Sph.Domain.ScriptFunctoid, domain.sph",
        "Expression": "string code = null;\r\nvar isConsole = item.ConsignmentNo.StartsWith(\"CG\") && item.ConsignmentNo.EndsWith(\"MY\");\r\nif (!isConsole)\r\n{\r\n    var firstLetter = item.ConsignmentNo.Substring(0,1);\r\n    switch (firstLetter)\r\n    {\r\n        case \"E\": code = \"E\"; break;\r\n        case \"C\": code = \"C\"; break;\r\n        case \"L\": code = \"U\"; break;\r\n    }\r\n}\r\n\r\nreturn code;",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": "GetClassCode",
        "OutputTypeName": "System.String, mscorlib",
        "Label": null,
        "Comment": null,
        "X": 559.0,
        "Y": 70.0,
        "WebId": "999daddf-915c-4aa4-d280-c1b7eea67155"
      },
      {
        "$type": "Bespoke.Sph.Domain.ConfigurationSettingFunctoid, database.lookup",
        "Section": "ConnectionString",
        "Key": "oal",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": null,
        "OutputTypeName": null,
        "Label": null,
        "Comment": null,
        "X": 58.0,
        "Y": 321.0,
        "WebId": "c8a9766d-a762-4a53-eca6-22a15ca7b7d9"
      },
      {
        "$type": "Bespoke.Sph.Domain.SqlServerLookup, database.lookup",
        "DefaultValue": "-",
        "SqlText": "SELECT [item_category] FROM [dbo].[consignment_initial]  WHERE [number] = @value1",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": [
            {
              "$type": "Bespoke.Sph.Domain.FunctoidArg, domain.sph",
              "Name": "connection",
              "TypeName": "System.String, mscorlib",
              "Description": null,
              "Label": null,
              "Comment": null,
              "IsOptional": false,
              "Functoid": "c8a9766d-a762-4a53-eca6-22a15ca7b7d9",
              "Constant": null,
              "Default": null,
              "WebId": null
            },
            {
              "$type": "Bespoke.Sph.Domain.FunctoidArg, domain.sph",
              "Name": "value1",
              "TypeName": "System.String, mscorlib",
              "Description": null,
              "Label": null,
              "Comment": null,
              "IsOptional": true,
              "Functoid": "7508467d-9bf1-4f8a-8472-0211330a41a8",
              "Constant": null,
              "Default": null,
              "WebId": null
            },
            {
              "$type": "Bespoke.Sph.Domain.FunctoidArg, domain.sph",
              "Name": "value2",
              "TypeName": "System.String, mscorlib",
              "Description": null,
              "Label": null,
              "Comment": null,
              "IsOptional": true,
              "Functoid": null,
              "Constant": null,
              "Default": null,
              "WebId": null
            },
            {
              "$type": "Bespoke.Sph.Domain.FunctoidArg, domain.sph",
              "Name": "value3",
              "TypeName": "System.String, mscorlib",
              "Description": null,
              "Label": null,
              "Comment": null,
              "IsOptional": true,
              "Functoid": null,
              "Constant": null,
              "Default": null,
              "WebId": null
            },
            {
              "$type": "Bespoke.Sph.Domain.FunctoidArg, domain.sph",
              "Name": "value4",
              "TypeName": "System.String, mscorlib",
              "Description": null,
              "Label": null,
              "Comment": null,
              "IsOptional": true,
              "Functoid": null,
              "Constant": null,
              "Default": null,
              "WebId": null
            }
          ]
        },
        "Name": null,
        "OutputTypeName": "System.String, mscorlib",
        "Label": null,
        "Comment": null,
        "X": 235.0,
        "Y": 200.0,
        "WebId": "18c0b80d-e184-46a0-c3d9-f1d0c635ad2e"
      },
      {
        "$type": "Bespoke.Sph.Domain.SourceFunctoid, domain.sph",
        "Field": "ConsignmentNo",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": "",
        "OutputTypeName": "",
        "Label": "",
        "Comment": "",
        "X": 0.0,
        "Y": 0.0,
        "WebId": "7508467d-9bf1-4f8a-8472-0211330a41a8"
      },
      {
        "$type": "Bespoke.Sph.Domain.ScriptFunctoid, domain.sph",
        "Expression": "return content.Equals(\"01\") ? \"M\" : \"D\";",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": [
            {
              "$type": "Bespoke.Sph.Domain.FunctoidArg, domain.sph",
              "Name": "content",
              "TypeName": "System.String, mscorlib",
              "Description": "",
              "Label": "",
              "Comment": "",
              "IsOptional": false,
              "Functoid": "18c0b80d-e184-46a0-c3d9-f1d0c635ad2e",
              "Constant": "",
              "Default": "",
              "WebId": "f5843fa8-8075-483c-9500-a0590a1a8d82"
            }
          ]
        },
        "Name": "SetContent",
        "OutputTypeName": "System.String, mscorlib",
        "Label": null,
        "Comment": null,
        "X": 422.0,
        "Y": 158.0,
        "WebId": "683c4cc8-b2d9-406d-b249-69ca3ccdb831"
      },
      {
        "$type": "Bespoke.Sph.Domain.SqlServerLookup, database.lookup",
        "DefaultValue": "-",
        "SqlText": "SELECT [shipper_address_country] FROM [dbo].[consignment_initial]  WHERE [number] = @value1",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": [
            {
              "$type": "Bespoke.Sph.Domain.FunctoidArg, domain.sph",
              "Name": "connection",
              "TypeName": "System.String, mscorlib",
              "Description": null,
              "Label": null,
              "Comment": null,
              "IsOptional": false,
              "Functoid": "c8a9766d-a762-4a53-eca6-22a15ca7b7d9",
              "Constant": null,
              "Default": null,
              "WebId": null
            },
            {
              "$type": "Bespoke.Sph.Domain.FunctoidArg, domain.sph",
              "Name": "value1",
              "TypeName": "System.String, mscorlib",
              "Description": null,
              "Label": null,
              "Comment": null,
              "IsOptional": true,
              "Functoid": "cf7b18b1-650c-4e17-dc85-1d751a36fe86",
              "Constant": null,
              "Default": null,
              "WebId": null
            },
            {
              "$type": "Bespoke.Sph.Domain.FunctoidArg, domain.sph",
              "Name": "value2",
              "TypeName": "System.String, mscorlib",
              "Description": null,
              "Label": null,
              "Comment": null,
              "IsOptional": true,
              "Functoid": null,
              "Constant": null,
              "Default": null,
              "WebId": null
            },
            {
              "$type": "Bespoke.Sph.Domain.FunctoidArg, domain.sph",
              "Name": "value3",
              "TypeName": "System.String, mscorlib",
              "Description": null,
              "Label": null,
              "Comment": null,
              "IsOptional": true,
              "Functoid": null,
              "Constant": null,
              "Default": null,
              "WebId": null
            },
            {
              "$type": "Bespoke.Sph.Domain.FunctoidArg, domain.sph",
              "Name": "value4",
              "TypeName": "System.String, mscorlib",
              "Description": null,
              "Label": null,
              "Comment": null,
              "IsOptional": true,
              "Functoid": null,
              "Constant": null,
              "Default": null,
              "WebId": null
            }
          ]
        },
        "Name": null,
        "OutputTypeName": "System.String, mscorlib",
        "Label": null,
        "Comment": null,
        "X": 233.0,
        "Y": 265.0,
        "WebId": "159c793c-85e4-4a80-91a0-20080cc93640"
      },
      {
        "$type": "Bespoke.Sph.Domain.SourceFunctoid, domain.sph",
        "Field": "ConsignmentNo",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": "",
        "OutputTypeName": "",
        "Label": "",
        "Comment": "",
        "X": 0.0,
        "Y": 0.0,
        "WebId": "cf7b18b1-650c-4e17-dc85-1d751a36fe86"
      },
      {
        "$type": "Bespoke.Sph.Domain.ScriptFunctoid, domain.sph",
        "Expression": "if (!origin.Equals(\"-\"))\r\n{\r\n    return origin;\r\n}\r\nelse\r\n{\r\n    var pattern = @\"\\w{2}\\d{9}(?<country>\\w{2})\";\r\n\tvar match = System.Text.RegularExpressions.Regex.Match(item.ConsignmentNo, pattern);\r\n\treturn match.Success ? match.Groups[\"country\"].Value : \"-\";\r\n}",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": [
            {
              "$type": "Bespoke.Sph.Domain.FunctoidArg, domain.sph",
              "Name": "origin",
              "TypeName": "System.String, mscorlib",
              "Description": "",
              "Label": "",
              "Comment": "",
              "IsOptional": false,
              "Functoid": "159c793c-85e4-4a80-91a0-20080cc93640",
              "Constant": "",
              "Default": "",
              "WebId": "9017e4c1-476a-49a8-974b-42b49ea84503"
            }
          ]
        },
        "Name": "SetOriginCountryCode",
        "OutputTypeName": "System.String, mscorlib",
        "Label": null,
        "Comment": null,
        "X": 451.0,
        "Y": 234.0,
        "WebId": "bfa24e88-b3d8-44c4-ce6b-565277604f42"
      },
      {
        "$type": "Bespoke.Sph.Domain.ScriptFunctoid, domain.sph",
        "Expression": "switch (item.ReasonCode)\r\n{\r\n  case \"01\": return \"TN037\";\r\n  case \"02\": return \"TN036\";\r\n  case \"03\": return \"TN036\";\r\n  case \"04\": return item.DamageCode.Equals(\"01\") ? \"TN037\" : \"TN036\";\r\n  case \"05\": return \"TN036\";\r\n  case \"06\": return \"TN036\";\r\n  case \"07\": return \"TN036\";\r\n  case \"08\": return \"TN036\";\r\n  case \"09\": return \"TN036\";\r\n  case \"10\": return \"TN037\";\r\n  case \"11\": return \"TN037\";\r\n}\r\n\r\nreturn \"-\";",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": "SetTnCode",
        "OutputTypeName": "System.String, mscorlib",
        "Label": null,
        "Comment": null,
        "X": 645.0,
        "Y": 269.0,
        "WebId": "4df5018a-8413-48df-cfec-f191529d5a50"
      },
      {
        "$type": "Bespoke.Sph.Domain.ConstantFunctoid, domain.sph",
        "TypeName": "System.String, mscorlib",
        "Value": "MINL",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": null,
        "OutputTypeName": null,
        "Label": null,
        "Comment": null,
        "X": 674.0,
        "Y": 157.0,
        "WebId": "713b5882-6d65-4883-d2b3-00bc3c70957c"
      },
      {
        "$type": "Bespoke.Sph.Domain.SqlServerLookup, database.lookup",
        "DefaultValue": "0d",
        "SqlText": "SELECT [weight_double] FROM [dbo].[consignment_initial] WHERE [number] = @value1",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": [
            {
              "$type": "Bespoke.Sph.Domain.FunctoidArg, domain.sph",
              "Name": "connection",
              "TypeName": "System.String, mscorlib",
              "Description": null,
              "Label": null,
              "Comment": null,
              "IsOptional": false,
              "Functoid": "c8a9766d-a762-4a53-eca6-22a15ca7b7d9",
              "Constant": null,
              "Default": null,
              "WebId": null
            },
            {
              "$type": "Bespoke.Sph.Domain.FunctoidArg, domain.sph",
              "Name": "value1",
              "TypeName": "System.String, mscorlib",
              "Description": null,
              "Label": null,
              "Comment": null,
              "IsOptional": true,
              "Functoid": "6bbab0d0-01cb-4ee4-c684-775ace0ee725",
              "Constant": null,
              "Default": null,
              "WebId": null
            },
            {
              "$type": "Bespoke.Sph.Domain.FunctoidArg, domain.sph",
              "Name": "value2",
              "TypeName": "System.String, mscorlib",
              "Description": null,
              "Label": null,
              "Comment": null,
              "IsOptional": true,
              "Functoid": null,
              "Constant": null,
              "Default": null,
              "WebId": null
            },
            {
              "$type": "Bespoke.Sph.Domain.FunctoidArg, domain.sph",
              "Name": "value3",
              "TypeName": "System.String, mscorlib",
              "Description": null,
              "Label": null,
              "Comment": null,
              "IsOptional": true,
              "Functoid": null,
              "Constant": null,
              "Default": null,
              "WebId": null
            },
            {
              "$type": "Bespoke.Sph.Domain.FunctoidArg, domain.sph",
              "Name": "value4",
              "TypeName": "System.String, mscorlib",
              "Description": null,
              "Label": null,
              "Comment": null,
              "IsOptional": true,
              "Functoid": null,
              "Constant": null,
              "Default": null,
              "WebId": null
            }
          ]
        },
        "Name": null,
        "OutputTypeName": "System.Double, mscorlib",
        "Label": null,
        "Comment": null,
        "X": 214.0,
        "Y": 417.0,
        "WebId": "6a01bab2-4d80-45b8-c209-a9579f35dcdb"
      },
      {
        "$type": "Bespoke.Sph.Domain.SourceFunctoid, domain.sph",
        "Field": "ConsignmentNo",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": "",
        "OutputTypeName": "",
        "Label": "",
        "Comment": "",
        "X": 0.0,
        "Y": 0.0,
        "WebId": "6bbab0d0-01cb-4ee4-c684-775ace0ee725"
      },
      {
        "$type": "Bespoke.Sph.Domain.ConstantFunctoid, domain.sph",
        "TypeName": "System.String, mscorlib",
        "Value": "30",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": null,
        "OutputTypeName": null,
        "Label": null,
        "Comment": null,
        "X": 651.0,
        "Y": 243.0,
        "WebId": "0e592ccb-0f6d-405f-ba83-966969ba1d95"
      },
      {
        "$type": "Bespoke.Sph.Domain.StringConcateFunctoid, domain.sph",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": [
            {
              "$type": "Bespoke.Sph.Domain.FunctoidArg, domain.sph",
              "Name": "1",
              "TypeName": "System.Object, mscorlib",
              "Description": null,
              "Label": null,
              "Comment": null,
              "IsOptional": false,
              "Functoid": "c1abc2b4-33ae-47c4-f963-ec7cf2b8c12d",
              "Constant": null,
              "Default": null,
              "WebId": null
            },
            {
              "$type": "Bespoke.Sph.Domain.FunctoidArg, domain.sph",
              "Name": "2",
              "TypeName": "System.Object, mscorlib",
              "Description": null,
              "Label": null,
              "Comment": null,
              "IsOptional": false,
              "Functoid": "6c6ec0f6-7255-4466-c608-2cda3d8dfa3e",
              "Constant": null,
              "Default": null,
              "WebId": null
            },
            {
              "$type": "Bespoke.Sph.Domain.FunctoidArg, domain.sph",
              "Name": "3",
              "TypeName": "System.Object, mscorlib",
              "Description": null,
              "Label": null,
              "Comment": null,
              "IsOptional": false,
              "Functoid": null,
              "Constant": null,
              "Default": null,
              "WebId": null
            },
            {
              "$type": "Bespoke.Sph.Domain.FunctoidArg, domain.sph",
              "Name": "4",
              "TypeName": "System.Object, mscorlib",
              "Description": null,
              "Label": null,
              "Comment": null,
              "IsOptional": false,
              "Functoid": null,
              "Constant": null,
              "Default": null,
              "WebId": null
            },
            {
              "$type": "Bespoke.Sph.Domain.FunctoidArg, domain.sph",
              "Name": "5",
              "TypeName": "System.Object, mscorlib",
              "Description": null,
              "Label": null,
              "Comment": null,
              "IsOptional": false,
              "Functoid": null,
              "Constant": null,
              "Default": null,
              "WebId": null
            },
            {
              "$type": "Bespoke.Sph.Domain.FunctoidArg, domain.sph",
              "Name": "6",
              "TypeName": "System.Object, mscorlib",
              "Description": null,
              "Label": null,
              "Comment": null,
              "IsOptional": false,
              "Functoid": null,
              "Constant": null,
              "Default": null,
              "WebId": null
            },
            {
              "$type": "Bespoke.Sph.Domain.FunctoidArg, domain.sph",
              "Name": "7",
              "TypeName": "System.Object, mscorlib",
              "Description": null,
              "Label": null,
              "Comment": null,
              "IsOptional": false,
              "Functoid": null,
              "Constant": null,
              "Default": null,
              "WebId": null
            },
            {
              "$type": "Bespoke.Sph.Domain.FunctoidArg, domain.sph",
              "Name": "8",
              "TypeName": "System.Object, mscorlib",
              "Description": null,
              "Label": null,
              "Comment": null,
              "IsOptional": false,
              "Functoid": null,
              "Constant": null,
              "Default": null,
              "WebId": null
            },
            {
              "$type": "Bespoke.Sph.Domain.FunctoidArg, domain.sph",
              "Name": "9",
              "TypeName": "System.Object, mscorlib",
              "Description": null,
              "Label": null,
              "Comment": null,
              "IsOptional": false,
              "Functoid": null,
              "Constant": null,
              "Default": null,
              "WebId": null
            },
            {
              "$type": "Bespoke.Sph.Domain.FunctoidArg, domain.sph",
              "Name": "10",
              "TypeName": "System.Object, mscorlib",
              "Description": null,
              "Label": null,
              "Comment": null,
              "IsOptional": false,
              "Functoid": null,
              "Constant": null,
              "Default": null,
              "WebId": null
            }
          ]
        },
        "Name": null,
        "OutputTypeName": null,
        "Label": null,
        "Comment": null,
        "X": 439.0,
        "Y": 190.0,
        "WebId": "37f20429-d656-44ed-f1eb-da4cbd8ef08c"
      },
      {
        "$type": "Bespoke.Sph.Domain.ConstantFunctoid, domain.sph",
        "TypeName": "System.String, mscorlib",
        "Value": "MY",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": null,
        "OutputTypeName": null,
        "Label": null,
        "Comment": null,
        "X": 350.0,
        "Y": 151.0,
        "WebId": "c1abc2b4-33ae-47c4-f963-ec7cf2b8c12d"
      },
      {
        "$type": "Bespoke.Sph.Domain.SourceFunctoid, domain.sph",
        "Field": "LocationId",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": "",
        "OutputTypeName": "",
        "Label": "",
        "Comment": "",
        "X": 0.0,
        "Y": 0.0,
        "WebId": "6c6ec0f6-7255-4466-c608-2cda3d8dfa3e"
      },
      {
        "$type": "Bespoke.Sph.Domain.ConstantFunctoid, domain.sph",
        "TypeName": "System.String, mscorlib",
        "Value": "MY",
        "ArgumentCollection": {
          "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.FunctoidArg, domain.sph]], domain.sph",
          "$values": []
        },
        "Name": null,
        "OutputTypeName": null,
        "Label": null,
        "Comment": null,
        "X": 684.0,
        "Y": 203.0,
        "WebId": "99867c2e-d6ea-4e00-b6c1-e3fbd5a36a16"
      }
    ]
  },
  "InputCollection": {
    "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.MethodArg, domain.sph]], domain.sph",
    "$values": []
  },
  "ReferencedAssemblyCollection": {
    "$type": "Bespoke.Sph.Domain.ObjectCollection`1[[Bespoke.Sph.Domain.ReferencedAssembly, domain.sph]], domain.sph",
    "$values": []
  },
  "Name": "RtsDeliveryToIpsImport",
  "Description": "",
  "InputTypeName": "Bespoke.PosEntt.Deliveries.Domain.Delivery, PosEntt.Delivery",
  "OutputTypeName": "Bespoke.PosEntt.Adapters.Oal.dbo_ips_import, PosEntt.Oal",
  "IsPublished": true,
  "CreatedBy": "admin",
  "Id": "rts-delivery-to-ips-import",
  "CreatedDate": "2016-10-19T10:42:27.4855359+08:00",
  "ChangedBy": "admin",
  "ChangedDate": "2016-12-15T11:10:21.1173178+08:00",
  "WebId": "03bfc107-1309-4a52-b4f9-051ac46d1d9f"
}